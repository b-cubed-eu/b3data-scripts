---
output: github_document
editor_options: 
  chunk_output_type: console
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = file.path("man", "figures", "readme-"),
  out.width = "80%",
  dpi = 300
)
```

<!-- badges: start -->
![GitHub](https://img.shields.io/github/license/b-cubed-eu/b3data-scripts)
[![repo status](https://www.repostatus.org/badges/latest/wip.svg)](https://www.repostatus.org/#wip)
![GitHub repo size](https://img.shields.io/github/repo-size/b-cubed-eu/b3data-scripts)
<!-- badges: end -->

# Scripts used to create the b3data frictionless data package

[Langeraert, Ward![ORCID logo](https://info.orcid.org/wp-content/uploads/2019/11/orcid_16x16.png)](https://orcid.org/0000-0002-5900-8109)[^aut][^cre][^INBO]
[Van Daele, Toon![ORCID logo](https://info.orcid.org/wp-content/uploads/2019/11/orcid_16x16.png)](https://orcid.org/0000-0002-1362-853X)[^aut][^INBO]
Research Institute for Nature and Forest (INBO)[^cph]
European Union's Horizon Europe Research and Innovation Programme (ID No 101059592)[^fnd]

[^cph]: copyright holder
[^fnd]: funder
[^aut]: author
[^cre]: contact person
[^INBO]: Research Institute for Nature and Forest (INBO), Herman Teirlinckgebouw, Havenlaan 88 PO Box 73, B-1000 Brussels, Belgium

**keywords**: data package; b3verse; frictionless; data cubes

<!-- community: b3 -->
<!-- community: inbo -->

<!-- description: start -->
This repository contains scripts to create the b3data [frictionless](https://docs.ropensci.org/frictionless/) data package. This data package contains the data resources for the [b3verse](https://docs.b-cubed.eu/guides/b3verse/). The data package will be published on [Zenodo](https://zenodo.org/) from where the datasets can be imported in R using the [frictionless](https://docs.ropensci.org/frictionless/) R package.
<!-- description: end -->

This code is developed in context of **T5.5** of the [B-Cubed project](https://b-cubed.eu/).

### b3data data package

The b3data data package is itself is available here (*URL will be provided when published*).
This data package contains the data resources for the [b3verse](https://docs.b-cubed.eu/guides/b3verse/).
It is created using the [frictionless](https://docs.ropensci.org/frictionless/) R package and the datasets can be imported in R using functions provided by **frictionless**.

**Step 1.** Load the **frictionless** R package

```{r, echo=FALSE}
# nolint start
```

```{r}
#install.packages("frictionless")
library(frictionless)
```

**Step 2.** Read the descriptor file of the data package from Zenodo and look at the contents

> This is an example based on an other data package. b3data will be published soon.

```{r}
b3data_package <- read_package("https://zenodo.org/records/10053702/files/datapackage.json")
b3data_package
```

The following datasets are included:

> coming soon

**Step 3.** Import dataset of interest from the data package

Tabular data can be imported straightforward using the `read_resource()` function.

```{r}
gps <- read_resource(b3data_package, "gps")
gps
```

Other datatypes need to be read from URL using specific packages (e.g. **sf** for spatial data or **terra** for raster data).

> example coming soon

```{r, echo=FALSE}
# nolint end
```

### Repo structure

```
├── source                         ├ R markdown files
│   └── R                          ├ R scripts
├── data
│   ├── raw                        ├ create this folder and store raw data
│   ├── processed                  ├ store processed data
│   └── b3data_package             ├ b3data frictionless data package
├── checklist.yml                  ├ options checklist package (https://github.com/inbo/checklist)
├── organisation.yml               ├ organisation info (https://inbo.github.io/checklist/articles/organisation.html)
├── inst
│   └── en_gb.dic                  ├ dictionary with words that should not be checked by the checklist package
├── .github                        │ 
│   ├── workflows                  │ 
│   │   └── checklist_project.yml  ├ GitHub action settings
│   ├── CODE_OF_CONDUCT.md         │ 
│   └── CONTRIBUTING.md            │
├── b3data-scripts.Rproj           ├ R project
├── README.md                      ├ project description
├── LICENSE.md                     ├ license
├── CITATION.cff                   ├ citation info
├── .zenodo.json                   ├ zenodo metadata
└── .gitignore                     ├ files to ignore
```
